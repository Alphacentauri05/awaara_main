# About embeddings.json

## What is this file?

`embeddings.json` stores face embeddings (mathematical representations of faces) and their corresponding image URLs.

## Why does it have dummy data?

The current data is **EXAMPLE/DUMMY DATA** to show you the correct format. It's not real face embeddings.

**You MUST replace this with real embeddings** by running the `generate_embeddings.py` script.

## What real embeddings look like

```json
[
  {
    "imageUrl": "https://res.cloudinary.com/your-cloud/image/upload/events/photo1.jpg",
    "embedding": [0.234, -0.567, 0.891, ... 512 numbers total]
  },
  {
    "imageUrl": "https://res.cloudinary.com/your-cloud/image/upload/events/photo2.jpg",
    "embedding": [0.123, 0.456, -0.789, ... 512 numbers total]
  }
]
```

**Key points:**
- Each entry has an `imageUrl` (public Cloudinary URL)
- Each entry has an `embedding` (array of exactly 512 floating-point numbers)
- Real embeddings are generated by the InsightFace AI model
- One entry per detected face (not per image - an image with 3 faces = 3 entries)

## How to generate real embeddings

After uploading your event photos to Cloudinary:

```bash
cd backend
python generate_embeddings.py /path/to/local/photos "https://res.cloudinary.com/YOUR_CLOUD_NAME/image/upload/events/"
```

This will:
1. Process each local image
2. Detect faces using InsightFace
3. Generate 512-dimensional embeddings
4. Save to `embeddings.json` with Cloudinary URLs

## How the app uses this file

1. Backend loads `embeddings.json` on startup
2. When user uploads a selfie, backend detects their face
3. Backend compares selfie embedding to ALL embeddings in this file
4. Returns images with highest similarity scores
5. Frontend displays matching photos

## Don't edit this manually

Unless you know what you're doing, **never manually edit embeddings**. The numbers are generated by AI and must be precise.

Only edit `imageUrl` if you need to update URLs (e.g., changed Cloudinary folder structure).

## File location in production

When deploying to Render:
- This file must exist in the `backend/` folder
- Render will include it in the deployment
- If you update embeddings, redeploy the backend service

## Summary

**Current state:** Dummy data (placeholder)  
**What you need to do:** Run `generate_embeddings.py` to create real embeddings  
**When:** After uploading event photos to Cloudinary  
**Why:** The app won't work without real embeddings matching your actual photos
